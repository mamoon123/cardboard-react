{"ast":null,"code":"import _slicedToArray from\"/Users/irfan/personal/cardboard-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable jsx-a11y/anchor-is-valid */import React,{useState,useEffect}from'react';import{useCookies}from'react-cookie';import moment from'moment';import{ACCESS_TOKEN}from'../Constant';import{OrderCell}from'./OrderStyle';var Orders=function Orders(){var _useCookies=useCookies([ACCESS_TOKEN]),_useCookies2=_slicedToArray(_useCookies,1),cookies=_useCookies2[0];var token=cookies[ACCESS_TOKEN];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var confirm=function confirm(response){var orders=response.orders;console.log(orders);setOrders(orders);};var getLocalDateTime=function getLocalDateTime(created_at){var testDateUtc=moment.utc(created_at);var localDate=moment(testDateUtc).local();return localDate.format(\"YYYY-MM-DD HH:mm\");};useEffect(function(){fetch(\"http://localhost:3000/api/v1/orders\",{\"method\":\"GET\",\"headers\":{\"content-type\":\"application/json\",\"accept\":\"application/json\",\"Authorization\":\"token \"+token}}).then(function(response){return response.json();}).then(function(response){confirm(response);}).catch(function(err){debugger;console.log(err);});},[token]);if(!token){window.location.href='/login';}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(OrderCell,{className:\"d-flex flex-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Order ID\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Card Type\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Quantity\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Shipping Fee\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Discount\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Total Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Created At\")),orders.map(function(order,index){return/*#__PURE__*/React.createElement(OrderCell,{className:\"d-flex flex-row\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},order.id),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},order.card_type),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},order.quantity),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},order.price),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},order.shipping_fee),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},order.discount),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},order.total_price),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},getLocalDateTime(order.created_at)));}));};export default Orders;","map":{"version":3,"sources":["/Users/irfan/personal/cardboard-react/src/Components/Pages/Orders.js"],"names":["React","useState","useEffect","useCookies","moment","ACCESS_TOKEN","OrderCell","Orders","cookies","token","orders","setOrders","confirm","response","console","log","getLocalDateTime","created_at","testDateUtc","utc","localDate","local","format","fetch","then","json","catch","err","window","location","href","map","order","index","id","card_type","quantity","price","shipping_fee","discount","total_price"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport moment from 'moment';\nimport { ACCESS_TOKEN } from '../Constant';\nimport { OrderCell } from './OrderStyle';\n\n\n\nconst Orders = () => {\n  const [cookies] = useCookies([ACCESS_TOKEN]);\n  const token = cookies[ACCESS_TOKEN];\n  const [orders, setOrders] = useState([]);\n\n  const confirm = (response) => {\n    const { orders } = response;\n    console.log(orders);\n    setOrders(orders)\n  }\n\n  const getLocalDateTime = (created_at) => {\n    var testDateUtc = moment.utc(created_at);\n    var localDate = moment(testDateUtc).local();\n    return localDate.format(\"YYYY-MM-DD HH:mm\");\n  }\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/api/v1/orders\", {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"content-type\": \"application/json\",\n        \"accept\": \"application/json\",\n        \"Authorization\": \"token \"+token\n      },\n    })\n    .then(response => response.json())\n    .then(response => {\n      confirm(response);\n    })\n    .catch(err => {\n      debugger\n      console.log(err);\n    });\n  }, [token])\n\n\n  if (!token) {\n    window.location.href = '/login';\n  }\n\n\n  return (\n    <div>\n      <OrderCell className=\"d-flex flex-row\">\n        <div className=\"order_column head\">Order ID</div>\n        <div className=\"order_column head\">Card Type</div>\n        <div className=\"order_column head\">Quantity</div>\n        <div className=\"order_column head\">Price</div>\n        <div className=\"order_column head\">Shipping Fee</div>\n        <div className=\"order_column head\">Discount</div>\n        <div className=\"order_column head\">Total Price</div>\n        <div className=\"order_column head\">Created At</div>\n      </OrderCell>\n      {orders.map((order, index) => (\n        <OrderCell className=\"d-flex flex-row\" key={index}>\n          <div className=\"order_column\">{order.id}</div>\n          <div className=\"order_column\">{order.card_type}</div>\n          <div className=\"order_column\">{order.quantity}</div>\n          <div className=\"order_column\">{order.price}</div>\n          <div className=\"order_column\">{order.shipping_fee}</div>\n          <div className=\"order_column\">{order.discount}</div>\n          <div className=\"order_column\">{order.total_price}</div>\n          <div className=\"order_column\">{getLocalDateTime(order.created_at)}</div>\n        </OrderCell>\n      ))}\n    </div>\n  );\n};\n\n\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}