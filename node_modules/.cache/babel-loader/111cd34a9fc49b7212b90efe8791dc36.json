{"ast":null,"code":"var _jsxFileName = \"/Users/irfan/personal/cardboard-react/src/Components/Pages/Orders.js\";\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport moment from 'moment';\nimport { ACCESS_TOKEN, REACT_APP_API_URL } from '../Constant';\nimport { OrderCell } from './OrderStyle';\n\nconst Orders = () => {\n  const [cookies] = useCookies([ACCESS_TOKEN]);\n  const token = cookies[ACCESS_TOKEN];\n  const [orders, setOrders] = useState([]);\n\n  const confirm = response => {\n    const {\n      orders\n    } = response;\n    console.log(orders);\n    setOrders(orders);\n  };\n\n  const getLocalDateTime = created_at => {\n    var testDateUtc = moment.utc(created_at);\n    var localDate = moment(testDateUtc).local();\n    return localDate.format(\"YYYY-MM-DD HH:mm\");\n  };\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/api/v1/orders\", {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"content-type\": \"application/json\",\n        \"accept\": \"application/json\",\n        \"Authorization\": \"token \" + token\n      }\n    }).then(response => response.json()).then(response => {\n      confirm(response);\n    }).catch(err => {\n      debugger;\n      console.log(err);\n    });\n  }, [token]);\n\n  if (!token) {\n    window.location.href = '/login';\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(OrderCell, {\n    className: \"d-flex flex-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \"Order ID\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Card Type\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Shipping Fee\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Discount\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"Total Price\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Created At\")), orders.map((order, index) => /*#__PURE__*/React.createElement(OrderCell, {\n    className: \"d-flex flex-row\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, order.id), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, order.card_type), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, order.quantity), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, order.price), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, order.shipping_fee), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, order.discount), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, order.total_price), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order_column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, getLocalDateTime(order.created_at)))));\n};\n\nexport default Orders;","map":{"version":3,"sources":["/Users/irfan/personal/cardboard-react/src/Components/Pages/Orders.js"],"names":["React","useState","useEffect","useCookies","moment","ACCESS_TOKEN","REACT_APP_API_URL","OrderCell","Orders","cookies","token","orders","setOrders","confirm","response","console","log","getLocalDateTime","created_at","testDateUtc","utc","localDate","local","format","fetch","then","json","catch","err","window","location","href","map","order","index","id","card_type","quantity","price","shipping_fee","discount","total_price"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport moment from 'moment';\nimport { ACCESS_TOKEN, REACT_APP_API_URL } from '../Constant';\nimport { OrderCell } from './OrderStyle';\n\n\n\nconst Orders = () => {\n  const [cookies] = useCookies([ACCESS_TOKEN]);\n  const token = cookies[ACCESS_TOKEN];\n  const [orders, setOrders] = useState([]);\n\n  const confirm = (response) => {\n    const { orders } = response;\n    console.log(orders);\n    setOrders(orders)\n  }\n\n  const getLocalDateTime = (created_at) => {\n    var testDateUtc = moment.utc(created_at);\n    var localDate = moment(testDateUtc).local();\n    return localDate.format(\"YYYY-MM-DD HH:mm\");\n  }\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/api/v1/orders\", {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"content-type\": \"application/json\",\n        \"accept\": \"application/json\",\n        \"Authorization\": \"token \"+token\n      },\n    })\n    .then(response => response.json())\n    .then(response => {\n      confirm(response);\n    })\n    .catch(err => {\n      debugger\n      console.log(err);\n    });\n  }, [token])\n\n\n  if (!token) {\n    window.location.href = '/login';\n  }\n\n\n  return (\n    <div>\n      <OrderCell className=\"d-flex flex-row\">\n        <div className=\"order_column head\">Order ID</div>\n        <div className=\"order_column head\">Card Type</div>\n        <div className=\"order_column head\">Quantity</div>\n        <div className=\"order_column head\">Price</div>\n        <div className=\"order_column head\">Shipping Fee</div>\n        <div className=\"order_column head\">Discount</div>\n        <div className=\"order_column head\">Total Price</div>\n        <div className=\"order_column head\">Created At</div>\n      </OrderCell>\n      {orders.map((order, index) => (\n        <OrderCell className=\"d-flex flex-row\" key={index}>\n          <div className=\"order_column\">{order.id}</div>\n          <div className=\"order_column\">{order.card_type}</div>\n          <div className=\"order_column\">{order.quantity}</div>\n          <div className=\"order_column\">{order.price}</div>\n          <div className=\"order_column\">{order.shipping_fee}</div>\n          <div className=\"order_column\">{order.discount}</div>\n          <div className=\"order_column\">{order.total_price}</div>\n          <div className=\"order_column\">{getLocalDateTime(order.created_at)}</div>\n        </OrderCell>\n      ))}\n    </div>\n  );\n};\n\n\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}