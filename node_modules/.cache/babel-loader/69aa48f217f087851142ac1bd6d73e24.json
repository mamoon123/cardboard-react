{"ast":null,"code":"import _slicedToArray from\"/Users/irfan/personal/cardboard-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable jsx-a11y/anchor-is-valid */import React,{useState,useEffect}from'react';import{useCookies}from'react-cookie';import{ACCESS_TOKEN,USER}from'../Constant';import{CustomInput,NewOrderCell,SubTotal,OrderPlace}from'./OrderStyle';var HIGH_QUALITY=20;var PREMIUM=30;var NewOrder=function NewOrder(){var _useCookies=useCookies([ACCESS_TOKEN]),_useCookies2=_slicedToArray(_useCookies,1),cookies=_useCookies2[0];var token=cookies[ACCESS_TOKEN];var user=cookies[USER];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cardBoards=_useState2[0],setCardBoards=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),quantityPremium=_useState4[0],setQuantityPremium=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),quantityHigh=_useState6[0],setQuantityHigh=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),highTotalPrice=_useState8[0],setHighTotalPrice=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),premiumTotalPrice=_useState10[0],setPremiumTotalPrice=_useState10[1];useEffect(function(){setPremiumTotalPrice(quantityPremium*PREMIUM);},[quantityPremium]);useEffect(function(){setHighTotalPrice(quantityHigh*HIGH_QUALITY);},[quantityHigh]);var confirm=function confirm(response){var cardboard_type=response.cardboard_type;console.log(cardboard_type);setCardBoards(cardboard_type);};useEffect(function(){fetch(\"http://localhost:3000/api/v1/cardboard_types\",{\"method\":\"GET\",\"headers\":{\"content-type\":\"application/json\",\"accept\":\"application/json\",\"Authorization\":\"token \"+token}}).then(function(response){return response.json();}).then(function(response){confirm(response);}).catch(function(err){debugger;console.log(err);});},[token]);var onInputChangeHigh=function onInputChangeHigh(evt){setQuantityHigh(parseInt(evt.target.value,10));};var onInputChangePremium=function onInputChangePremium(evt){setQuantityPremium(parseInt(evt.target.value,10));};var totalQuantity=function totalQuantity(){return quantityHigh+quantityPremium;};var totalPrice=function totalPrice(){return highTotalPrice+premiumTotalPrice;};var getCardTypes=function getCardTypes(){var emptyCard='';if(quantityHigh>0){emptyCard=emptyCard+'High Quality';}if(quantityPremium>0){emptyCard=emptyCard+', Premium';}return emptyCard;};var availableBalance=function availableBalance(){var newBalance=0;if(totalQuantity()<=10&&totalQuantity()>0){newBalance=totalPrice()+30;}if(totalQuantity()<=20&&totalQuantity()>10){newBalance=totalPrice();}if(totalQuantity()>20){newBalance=totalPrice()*0.9;}return newBalance;};var getDiscount=function getDiscount(){var discountValue=0;if(totalPrice()-availableBalance()>0){discountValue=totalPrice()-availableBalance();}return discountValue;};var handlePlaceOrder=function handlePlaceOrder(){var params={quantity:totalQuantity(),price:totalPrice(),user_id:user.id,shipping_fee:totalQuantity()<10?30:0,discount:getDiscount(),card_type:getCardTypes(),total_price:availableBalance()};console.log(params);fetch(\"http://localhost:3000/api/v1/orders\",{\"method\":\"POST\",\"headers\":{\"content-type\":\"application/json\",\"accept\":\"application/json\",\"Authorization\":\"token \"+token},\"body\":JSON.stringify(params)}).then(function(response){return response.json();}).then(function(response){var status=response.status;if(status===200){window.location.href='/orders';}}).catch(function(err){console.log(err);});};if(!token){window.location.href='/login';}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NewOrderCell,{className:\"d-flex flex-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"CardBoard #\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Card Type\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Price\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Qty\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column head\"},\"Total\")),cardBoards.map(function(card,index){return/*#__PURE__*/React.createElement(NewOrderCell,{className:\"d-flex flex-row\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},index+1),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},card.card_type),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},card.price,\" AUD\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},/*#__PURE__*/React.createElement(CustomInput,{className:\"order_column head\"},/*#__PURE__*/React.createElement(\"input\",{min:\"0\",type:\"number\",value:index===0?quantityHigh:quantityPremium,name:\"quantity\",onChange:index===0?onInputChangeHigh:onInputChangePremium}))),/*#__PURE__*/React.createElement(\"div\",{className:\"order_column\"},index===0?highTotalPrice:premiumTotalPrice,\" AUD\"));}),/*#__PURE__*/React.createElement(SubTotal,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row justify-content-end\"},/*#__PURE__*/React.createElement(\"span\",{className:\"span-label\"},\"Sub Total: \"),/*#__PURE__*/React.createElement(\"span\",null,\" \",totalPrice(),\" AUD \")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row justify-content-end\"},/*#__PURE__*/React.createElement(\"span\",{className:\"span-label\"},\"Shipping Fee: \"),totalQuantity()<10&&totalQuantity()>0?/*#__PURE__*/React.createElement(\"span\",null,\" 30 AUD \"):/*#__PURE__*/React.createElement(\"span\",null,\" 0 AUD \")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row justify-content-end\"},/*#__PURE__*/React.createElement(\"span\",{className:\"span-label\"},\"Discount: \"),totalQuantity()>20?/*#__PURE__*/React.createElement(\"span\",null,\" 0.9 AUD \"):/*#__PURE__*/React.createElement(\"span\",null,\" 0 AUD \")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row justify-content-end\"},/*#__PURE__*/React.createElement(\"span\",{className:\"span-label\"},\"Total Amount: \"),/*#__PURE__*/React.createElement(\"span\",null,\" \",availableBalance(),\" AUD \"))),/*#__PURE__*/React.createElement(OrderPlace,{className:\"d-flex flex-row justify-content-end\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:handlePlaceOrder,disabled:totalQuantity()===0},\"Place Order\")));};export default NewOrder;","map":{"version":3,"sources":["/Users/irfan/personal/cardboard-react/src/Components/Pages/NewOrder.js"],"names":["React","useState","useEffect","useCookies","ACCESS_TOKEN","USER","CustomInput","NewOrderCell","SubTotal","OrderPlace","HIGH_QUALITY","PREMIUM","NewOrder","cookies","token","user","cardBoards","setCardBoards","quantityPremium","setQuantityPremium","quantityHigh","setQuantityHigh","highTotalPrice","setHighTotalPrice","premiumTotalPrice","setPremiumTotalPrice","confirm","response","cardboard_type","console","log","fetch","then","json","catch","err","onInputChangeHigh","evt","parseInt","target","value","onInputChangePremium","totalQuantity","totalPrice","getCardTypes","emptyCard","availableBalance","newBalance","getDiscount","discountValue","handlePlaceOrder","params","quantity","price","user_id","id","shipping_fee","discount","card_type","total_price","JSON","stringify","status","window","location","href","map","card","index"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { ACCESS_TOKEN, USER } from '../Constant';\nimport { CustomInput, NewOrderCell, SubTotal, OrderPlace } from './OrderStyle';\n\nconst HIGH_QUALITY = 20;\nconst PREMIUM      = 30;\n\n\nconst NewOrder = () => {\n  const [cookies] = useCookies([ACCESS_TOKEN]);\n  const token = cookies[ACCESS_TOKEN];\n  const user = cookies[USER]\n  const [cardBoards, setCardBoards] = useState([]);\n  const [quantityPremium, setQuantityPremium] = useState(0);\n  const [quantityHigh, setQuantityHigh] = useState(0);\n  const [highTotalPrice, setHighTotalPrice] = useState(0);\n  const [premiumTotalPrice, setPremiumTotalPrice] = useState(0);\n\n  useEffect(() => {\n    setPremiumTotalPrice(quantityPremium * PREMIUM);\n  }, [quantityPremium])\n\n  useEffect(() => {\n    setHighTotalPrice(quantityHigh * HIGH_QUALITY)\n  }, [quantityHigh])\n\n\n  const confirm = (response) => {\n    const { cardboard_type } = response;\n    console.log(cardboard_type);\n    setCardBoards(cardboard_type)\n  }\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/api/v1/cardboard_types\", {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"content-type\": \"application/json\",\n        \"accept\": \"application/json\",\n        \"Authorization\": \"token \"+token\n      },\n    })\n    .then(response => response.json())\n    .then(response => {\n      confirm(response);\n    })\n    .catch(err => {\n      debugger\n      console.log(err);\n    });\n  }, [token]);\n\n  const onInputChangeHigh= (evt) => {\n    setQuantityHigh(parseInt(evt.target.value, 10));\n  }\n\n  const onInputChangePremium= (evt) => {\n    setQuantityPremium(parseInt(evt.target.value, 10));\n  }\n\n  const totalQuantity = ()  => {\n    return quantityHigh + quantityPremium;\n  }\n\n  const totalPrice = ()  => {\n    return highTotalPrice + premiumTotalPrice;\n  }\n\n  const getCardTypes = () => {\n    let emptyCard = '';\n    if (quantityHigh > 0) {\n      emptyCard = emptyCard + 'High Quality'\n    }\n    if (quantityPremium > 0) {\n      emptyCard = emptyCard + ', Premium'\n    } \n    return emptyCard;\n  }\n\n  const availableBalance = () => {\n    let newBalance = 0;\n    if (totalQuantity() <= 10 && totalQuantity() > 0) {\n      newBalance = totalPrice() + 30;\n    }\n    if (totalQuantity() <= 20 && totalQuantity() > 10) {\n      newBalance = totalPrice();\n    }\n    if (totalQuantity() > 20) {\n      newBalance = totalPrice() * 0.9;\n    }\n    return newBalance;\n  }\n\n  const getDiscount = () => {\n    let discountValue = 0;\n    if ((totalPrice() - availableBalance()) > 0 ) {\n      discountValue = totalPrice() - availableBalance();\n    }\n    return discountValue;\n  }\n\n  const handlePlaceOrder = () => {\n    const params = {\n      quantity: totalQuantity(),\n      price: totalPrice(),\n      user_id: user.id,\n      shipping_fee: totalQuantity() < 10 ? 30 : 0,\n      discount: getDiscount(),\n      card_type: getCardTypes(),\n      total_price: availableBalance(),\n    }\n    console.log(params);\n    fetch(\"http://localhost:3000/api/v1/orders\", {\n      \"method\": \"POST\",\n      \"headers\": {\n        \"content-type\": \"application/json\",\n        \"accept\": \"application/json\",\n        \"Authorization\": \"token \"+token\n      },\n      \"body\": JSON.stringify(params)\n    })\n    .then(response => response.json())\n    .then(response => {\n      const { status } = response\n      if (status === 200) {\n        window.location.href = '/orders';\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }\n\n\n  if (!token) {\n    window.location.href = '/login';\n  }\n\n\n  return (\n    <div>\n      <NewOrderCell className=\"d-flex flex-row\">\n        <div className=\"order_column head\">CardBoard #</div>\n        <div className=\"order_column head\">Card Type</div>\n        <div className=\"order_column head\">Price</div>\n        <div className=\"order_column head\">Qty</div>\n        <div className=\"order_column head\">Total</div>\n      </NewOrderCell>\n      {cardBoards.map((card, index) => (\n        <NewOrderCell className=\"d-flex flex-row\" key={index}>\n          <div className=\"order_column\">{index + 1}</div>\n          <div className=\"order_column\">{card.card_type}</div>\n          <div className=\"order_column\">{card.price} AUD</div>\n          <div className=\"order_column\">\n            <CustomInput className=\"order_column head\">\n              <input \n                min=\"0\"\n                type=\"number\" \n                value={index === 0 ? quantityHigh : quantityPremium} \n                name=\"quantity\"\n                onChange={index === 0 ? onInputChangeHigh : onInputChangePremium}\n              />\n            </CustomInput>\n          </div>\n          <div className=\"order_column\">\n            {index === 0 ? highTotalPrice : premiumTotalPrice} AUD\n          </div>\n        </NewOrderCell>\n      ))}\n      <SubTotal>\n        <div className=\"d-flex flex-row justify-content-end\">\n          <span className=\"span-label\">Sub Total: </span>\n          <span> {totalPrice()} AUD </span>\n        </div>\n        <div className=\"d-flex flex-row justify-content-end\">\n          <span className=\"span-label\">Shipping Fee: </span>\n          { totalQuantity() < 10 && totalQuantity() > 0 ?\n            <span> 30 AUD </span> : \n            <span> 0 AUD </span>\n          }\n        </div>\n        <div className=\"d-flex flex-row justify-content-end\">\n          <span className=\"span-label\">Discount: </span>\n          { totalQuantity() > 20 ?\n            <span> 0.9 AUD </span> : \n            <span> 0 AUD </span>\n          }\n        </div>\n        <div className=\"d-flex flex-row justify-content-end\">\n          <span className=\"span-label\">Total Amount: </span>\n          <span> {availableBalance()} AUD </span>\n        </div>\n      </SubTotal>\n      <OrderPlace className=\"d-flex flex-row justify-content-end\">\n        <button \n          type=\"button\"\n          onClick={handlePlaceOrder}\n          disabled={totalQuantity() === 0}\n        >\n          Place Order\n        </button>\n      </OrderPlace>\n    </div>\n  );\n};\nexport default NewOrder;"]},"metadata":{},"sourceType":"module"}